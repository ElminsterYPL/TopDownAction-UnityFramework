# TopDownAction-UnityFramework  
## 这是什么？  
如同标题，这是一个俯视角战斗游戏的框架。  
俯视角：摄像机固定或跟随地处于玩家角色主要移动平面的上方，俯拍场景和角色。  
战斗：角色间会进行即时的、空间结构非固定的战斗。  
但能扩展的其实不仅如此。
## 它是如何运作的？  
ChaHandler是游戏角色的控制中枢，它会被玩家输入器或敌人AI所控制（取决于该角色是“玩家”还是“敌人”）。  
同时，ChaHandler会调配角色的其他组件，包括CharacterController和一些负责角色功能运作的组件（例如负责移动的UnitMove）。  
Buff系统处理玩家的各项状态，包括玩家熟知的“真正”的Buff（例如增加攻击力）、Debuff，也可用于宏观的玩家的某个状态或仅仅作为一个标记。  
Timeline机制（不是Unity原生的那个）基于点事件的逻辑，处理玩家的动作与技能释放等非角色核心功能。  
近战武器的攻击命中采用每帧与上一帧连接射线进行检测，避免了采用碰撞体方案会出现的速度过快检测失效等bug。  
具体请看代码。我大概没有时间和精力写一个详细的文档，且我想该框架的体量、完善度大概还没有如此地步。见谅。  
## 有示例Demo吗？  
当然有。  
目前工程中包含了一个简单的俯视角战斗的demo，导入Unity后点击场景“MainTest”即可运行测试。操作逻辑请见场景中UI指引。  
角色是始终面向正交相机的2D面片，场景和武器攻击为3D。  
之所以采用这样有些“奇怪”或者说不常见的方式，是为了节省开发成本。这和我正在参与开发的一款独立游戏有关。  
## 还有哪些没有完善？
1. 一些结构、美术相关工作流还没有补全。  
1. 近战武器的伤害、效果逻辑还未作抽象。  
2. 远程武器还未进行实现（这个的整体难度较低）。  
3. 未包含相关编辑器扩展与策划读写表等工作流。  